% Generated in part using
% https://github.com/numpde/ibiocomp/blob/main/code/20201229_LogicalTables/Subtractor.py

% RA, 2020-12-30

\begin{table}[hpbt]
\centering

\begin{minipage}{0.2\linewidth}
	\centering
			
	Half-subtractor:
	
	{\ }
	
	\begin{tabular}{cc|cc}
		\cee{s_3} &  \cee{c_3} &  \cee{d_3} &   \\
		\hdashline
		\cee{s_2} &  \cee{c_2} &  \cee{d_2} &  \cee{c_3} \\
		\hdashline
		\cee{s_0} &  \cee{r_0} &  \cee{d_0} &  \cee{c_1} \\
		\hline
		0 &          0 &          0 &          0 \\
		0 &          1 &          1 &          1 \\
		1 &          0 &          1 &          0 \\
		1 &          1 &          0 &          1 \\
	\end{tabular}
\end{minipage}
%
\quad
%
\begin{minipage}{0.3\linewidth}
	\centering
			
%		Full subtractor:
%		
%		{\ }
	
	\begin{tabular}{ccc|cc}
		\cee{s_1} &  \cee{r_1} &  \cee{c_1} &  \cee{d_1} &  \cee{c_2} \\
		\hline
		0 &          0 &          0 &          0 &          0 \\
		0 &          0 &          1 &          1 &          1 \\
		0 &          1 &          0 &          1 &          1 \\
		0 &          1 &          1 &          0 &          1 \\
		1 &          0 &          0 &          1 &          0 \\
		1 &          0 &          1 &          0 &          0 \\
		1 &          1 &          0 &          0 &          0 \\
		1 &          1 &          1 &          1 &          1 \\
	\end{tabular}
\end{minipage}
%
\quad
%
\begin{minipage}{0.3\linewidth}
	\begin{align*}
		\cee{& & 8 s_3 + 4 s_2 + 2 s_1 + s_0 &}
		\\
		- \cee{& & 2 r_1 + r_0 &}
		\\
		= \cee{& & 8 d_3 + 4 d_2 + 2 d_1 + d_0 &}
	\end{align*}
\end{minipage}

\caption{%
	The subtractor computes
	$\cee{d = s - r}$ (mod 16).
	%
	Since \cee{r} only has 
	the two lowest bits, 
	a half-subtractor
	is sufficient for
	the bits \cee{d_0}/\cee{d_2}/\cee{d_3}
	and the carry flags \cee{c_1}/\cee{c_3},
	and
	only \cee{d_1}/\cee{c_2}
	require the full subtractor.
}

\label{t:subtractor1}
\end{table}

